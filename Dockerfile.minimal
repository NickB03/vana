# Minimal Dockerfile to test recursion issue
FROM python:3.13-slim

WORKDIR /app

# Install only essential dependencies
RUN pip install --no-cache-dir     fastapi==0.115.0     uvicorn==0.31.0     google-genai==0.1.0rc2     google-adk

# Copy only essential files
COPY main.py .
COPY agents/ ./agents/
COPY lib/ ./lib/

# Set environment variables
ENV PORT=8081
ENV PYTHONUNBUFFERED=1

# Run with minimal setup
CMD ["python", "-m", "uvicorn", "main:app", "--host", "0.0.0.0", "--port", "8081"]
