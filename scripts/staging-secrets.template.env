# Vana Staging Environment Secrets Template
# ===========================================
# Copy this file to 'staging-secrets.env' and fill in your values
# Then set secrets with: supabase secrets set --env-file staging-secrets.env --project-ref <your-staging-ref>
#
# IMPORTANT: Never commit the filled-in secrets file to version control!
# Add 'staging-secrets.env' to .gitignore

# ============================================
# REQUIRED - App will not function without these
# ============================================

# OpenRouter API key for Gemini Flash (chat, titles, summaries, fast reasoning)
# Used by: chat/, generate-title/, summarize-conversation/, generate-reasoning/
# Get from: https://openrouter.ai/keys
# Cost: ~$0.075 per 1M input tokens, ~$0.30 per 1M output tokens
OPENROUTER_GEMINI_FLASH_KEY=

# GLM API key for artifact generation (Z.ai Coding Plan)
# Used by: generate-artifact/, generate-artifact-fix/
# Get from: https://docs.z.ai or https://bigmodel.cn (Chinese docs)
# API Endpoint: https://api.z.ai/api/coding/paas/v4/chat/completions
# Model: glm-4.6 with thinking enabled
GLM_API_KEY=

# CORS allowed origins (comma-separated, no spaces)
# Include your staging domain and localhost for testing
# Format: https://domain1.com,https://domain2.com,http://localhost:8080
# Example: https://staging.vana.app,http://localhost:8080
ALLOWED_ORIGINS=

# ============================================
# OPTIONAL - Enhanced features (can be added later)
# ============================================

# OpenRouter API key for Gemini Flash Image (AI image generation)
# Used by: generate-image/
# Get from: https://openrouter.ai/keys
# Note: If not set, falls back to OPENROUTER_GEMINI_FLASH_KEY
# OPENROUTER_GEMINI_IMAGE_KEY=

# OpenRouter API key for embeddings (intent detection / semantic search)
# Used by: intent-examples/
# Get from: https://openrouter.ai/keys
# Note: Can use same key as OPENROUTER_GEMINI_FLASH_KEY
# OPENROUTER_EMBEDDING_KEY=

# Tavily API key for web search functionality
# Used by: chat/ (when web search is enabled)
# Get from: https://tavily.com
# Note: If not set, web search feature will be disabled
# TAVILY_API_KEY=

# Upstash Redis for caching (performance optimization)
# Used by: cache-manager/, various edge functions for caching
# Get from: https://console.upstash.com/redis
# Note: If not set, caching will be disabled (slower but functional)
# UPSTASH_REDIS_REST_URL=
# UPSTASH_REDIS_REST_TOKEN=

# ============================================
# DEVELOPMENT/TESTING - For staging testing only
# ============================================

# Disable rate limiting for testing (DO NOT USE IN PRODUCTION)
# Set to "true" to disable all rate limits
# Default: false (rate limiting enabled)
# RATE_LIMIT_DISABLED=false

# Guest rate limit overrides (optional - only set if you want custom limits)
# Default values are defined in supabase/functions/_shared/config.ts
# Only override for testing - see config.ts for all available options
#
# General (chat, summaries, titles):
# RATE_LIMIT_GUEST_MAX=20                    # Default: 20 requests per window
# RATE_LIMIT_GUEST_WINDOW=5                  # Default: 5 hours
#
# Artifact generation:
# RATE_LIMIT_ARTIFACT_GUEST_MAX=5            # Default: 5 requests per window
# RATE_LIMIT_ARTIFACT_GUEST_WINDOW=5         # Default: 5 hours
#
# Image generation:
# RATE_LIMIT_IMAGE_GUEST_MAX=20              # Default: 20 requests per window
# RATE_LIMIT_IMAGE_GUEST_WINDOW=5            # Default: 5 hours

# ============================================
# DEPRECATED - No longer used but kept for reference
# ============================================

# Google AI Studio API keys (formerly used for image generation)
# Replaced by: OPENROUTER_GEMINI_IMAGE_KEY
# GOOGLE_KEY_1=
# GOOGLE_KEY_2=
# GOOGLE_KEY_3=
# GOOGLE_KEY_4=
# GOOGLE_KEY_5=
# GOOGLE_KEY_6=
# GOOGLE_KEY_7=
# GOOGLE_KEY_8=
# GOOGLE_KEY_9=
# GOOGLE_KEY_10=

# Kimi API key (formerly used for reasoning)
# Replaced by: GLM-4.6 for artifact generation, Gemini Flash for fast reasoning
# KIMI_API_KEY=

# ============================================
# NOTES
# ============================================

# 1. Minimum Required Secrets:
#    - OPENROUTER_GEMINI_FLASH_KEY
#    - GLM_API_KEY
#    - ALLOWED_ORIGINS
#
# 2. To set secrets in Supabase:
#    supabase secrets set --env-file staging-secrets.env --project-ref <your-staging-ref>
#
# 3. To verify secrets are set:
#    supabase secrets list --project-ref <your-staging-ref>
#
# 4. To unset a secret:
#    supabase secrets unset SECRET_NAME --project-ref <your-staging-ref>
#
# 5. Cost Estimates (staging with moderate usage):
#    - OpenRouter Gemini Flash: ~$1-5/month
#    - GLM-4.6 (Z.ai): Check Z.ai pricing
#    - Upstash Redis: Free tier sufficient for staging
#
# 6. Security Best Practices:
#    - Use separate API keys for staging and production
#    - Rotate keys regularly (every 90 days)
#    - Monitor API usage for anomalies
#    - Never commit filled-in secrets to git
#    - Use different CORS origins for staging vs production
