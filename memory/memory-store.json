{
  "test": [
    {
      "key": "benchmark_test",
      "value": "performance test data",
      "namespace": "test",
      "timestamp": 1755130039887
    }
  ],
  "debug": [
    {
      "key": "benchmark_results",
      "value": "{\"memory_ops\": 759, \"timestamp\": \"2025-08-13T19:07:21-05:00\"}",
      "namespace": "debug",
      "timestamp": 1755130042345
    }
  ],
  "default": [
    {
      "key": "test-key",
      "value": "test-value",
      "namespace": "default",
      "timestamp": 1756266718671
    }
  ],
  "devops": [
    {
      "key": "ci_analysis_results",
      "value": "\n# GitHub Actions Workflow Analysis Report\nRepository: NickB03/vana\nIssue #180: CI workflows failing in 2-7 seconds\n\n## Critical Issues Identified:\n\n### 1. Path Configuration Conflicts (CRITICAL)\n- Multiple workflows have conflicting path filters\n- ci.yml expects frontend at frontend/ path \n- main-ci.yml expects frontend at . (root)\n- local-build.yml expects frontend at frontend/\n- Actual structure: frontend/ directory exists\n\n### 2. Cache Path Mismatches (HIGH)\n- Node cache configured for frontend/pnpm-lock.yaml \n- Multiple workflows have different cache configurations\n- Some use relative paths, others absolute\n\n### 3. Environment Variable Issues (HIGH) \n- Missing GOOGLE_APPLICATION_CREDENTIALS handling\n- Inconsistent CI environment variable usage\n- GCP authentication failures in deployment workflow\n\n### 4. Dependency Resolution Issues (HIGH)\n- Different UV versions across workflows\n- Dependency sync failures in CI environment\n- Safety tool compatibility issues\n\n### 5. Job Dependencies Problems (MEDIUM)\n- Circular dependencies in some workflows\n- Jobs failing due to missing dependencies\n- Status checks depending on failed jobs\n\n### 6. YAML Structure Issues (LOW-MEDIUM)\n- Some workflows have complex matrix configurations\n- Conditional logic issues in job execution\n- Output parameter mismatches\n\n## Fix Priority:\n1. Fix path configurations (frontend/ vs root)\n2. Standardize cache configurations  \n3. Fix environment variable handling\n4. Resolve dependency issues\n5. Clean up job dependencies\n6. Test workflow syntax\n",
      "namespace": "devops",
      "timestamp": 1756842723504
    },
    {
      "key": "reviewer_decision",
      "value": "NEEDS REVISION - CI Fix Plan Review\n\nCRITICAL ISSUES IDENTIFIED:\n1. Workflow Duplication: ci.yml + main-ci.yml + local-build.yml overlap\n2. Security Tool Problems: Safety tool disabled, inadequate manual fallback\n3. Dependency Inconsistencies: Different UV versions across workflows\n\nREQUIRED BEFORE PARALLEL IMPLEMENTATION:\n- Consolidate overlapping workflows into unified-ci.yml\n- Standardize tool versions (UV 0.6.12, Node 20, Python 3.11)\n- Fix Security scanning (implement pip-audit or fix Safety)\n- Address cache key inconsistencies\n\nREVISED PARALLEL APPROACH:\nPR #1: Workflow Consolidation & Standards\nPR #2: Security Scanning Fixes  \nPR #3: Path & Environment Configuration\nPR #4: Performance & Error Handling\n\nRISK LEVEL: MEDIUM-HIGH without consolidation, LOW after revision\nDECISION: Cannot approve current plan - revision required",
      "namespace": "devops",
      "timestamp": 1756842980232
    },
    {
      "key": "revised_ci_plan",
      "value": "# REVISED CI/CD IMPLEMENTATION PLAN\n\n## Analysis of Current Issues\n\n### Critical Problems Identified:\n1. **WORKFLOW DUPLICATION**: Three overlapping CI files create conflicts:\n   - ci.yml (299 lines) - Main comprehensive pipeline\n   - main-ci.yml (587 lines) - Duplicate comprehensive pipeline\n   - local-build.yml (267 lines) - Local-only pipeline\n   \n2. **SECURITY TOOL FAILURE**: Safety vulnerability scanner disabled due to compatibility issues\n3. **VERSION INCONSISTENCIES**: Different tool versions across workflows\n4. **CACHE KEY PROBLEMS**: Inconsistent cache patterns could cause corruption\n\n## Phase 1: Foundation Fixes (SINGLE PR - PREREQUISITE)\n\n### 1.1 Workflow Consolidation\n**PRESERVE**: ci.yml as the single source of truth (most complete/modern)\n**REMOVE**: main-ci.yml and local-build.yml (duplicates with conflicts)\n\n### 1.2 Version Standardization\n- Node: 20 (consistent across all)\n- Python: 3.11 (consistent across all) \n- PNPM: 9.12.3 (upgrade from mixed versions)\n- UV: 0.6.12 (standardize version)\n\n### 1.3 Security Fix\n- Replace failing safety tool with pip-audit (more reliable)\n- Update security-scan.yml to use pip-audit instead of safety\n\n### 1.4 Cache Key Fixes\n- Standardize cache key patterns across all jobs\n- Add proper cache invalidation with CACHE_VERSION\n- Fix pnpm cache paths and dependencies\n\n## Phase 2: Parallel Fixes (After Phase 1 merges)\n\n### PR #2: Permissions & Secrets\n- Fix missing permissions in workflows\n- Add required secrets configuration\n- Update GITHUB_TOKEN scopes\n\n### PR #3: Path Filters & Triggers  \n- Fix path filter patterns\n- Optimize trigger conditions\n- Add proper branch protection\n\n### PR #4: Job Dependencies & Matrix\n- Fix job dependency chains\n- Optimize matrix configurations\n- Add proper failure handling\n\n## Execution Roadmap\n\n### Commands for Phase 1 (Foundation):\n\n1. **Remove duplicates**:\n   - Delete main-ci.yml\n   - Delete local-build.yml\n   - Keep ci.yml as single workflow\n\n2. **Fix security-scan.yml**:\n   - Replace safety with pip-audit\n   - Update commands and error handling\n\n3. **Standardize versions in ci.yml**:\n   - PNPM_VERSION: '9.12.3'\n   - UV_VERSION: '0.6.12' \n   - CACHE_VERSION: 'v4'\n\n4. **Fix cache keys**:\n   - Consistent naming patterns\n   - Proper dependency file hashing\n   - Version-based invalidation\n\n### Testing Approach:\n1. Run workflow locally with act\n2. Test on feature branch first\n3. Monitor resource usage and timing\n4. Validate all job dependencies\n\n### Risk Mitigation:\n- Keep backup of removed workflows in .github/workflows/.backup/\n- Use continue-on-error for non-critical jobs\n- Add comprehensive status reporting\n- Enable manual workflow dispatch for testing\n\n## Expected Outcomes:\n- Single, unified CI pipeline\n- 40% faster execution (no duplication)\n- Reliable security scanning\n- Consistent caching and versions\n- Clear failure reporting\n\nStatus: Ready for implementation",
      "namespace": "devops",
      "timestamp": 1756843080140
    },
    {
      "key": "final_approval",
      "value": "APPROVED - Phase 1 addresses all critical foundation issues comprehensively. Workflow consolidation eliminates duplication (remove main-ci.yml, local-build.yml duplicates). Security scanning fixed by replacing failing safety tool with pip-audit. Version standardization across all workflows (Node 20, Python 3.11, PNPM 9.12.3). Cache key consistency patterns implemented. Phase 2 parallel PRs are properly isolated after Phase 1 foundation. Execution approach is solid with clear testing strategy. Ready for implementation.",
      "namespace": "devops",
      "timestamp": 1756843176272
    },
    {
      "key": "phase1_implementation",
      "value": "Phase 1 DevOps Implementation: Successfully consolidated workflows by removing main-ci.yml and local-build.yml duplicates, updated ci.yml with merged functionality, replaced safety with pip-audit in security scanning, standardized versions (NODE_VERSION: '20', PYTHON_VERSION: '3.11', UV_VERSION: '0.6.12', CACHE_VERSION: 'v4') across all workflow files, and improved cache keys for better invalidation control. All changes completed on feature branch fix/ci-workflow-consolidation.",
      "namespace": "devops",
      "timestamp": 1756843464911
    },
    {
      "key": "phase2_plan",
      "value": "PHASE_2_CI_FIX_IMPLEMENTATION_PLANS",
      "namespace": "devops",
      "timestamp": 1756844069391
    },
    {
      "key": "ci_consumption_analysis",
      "value": "{\n  \"current_monthly_usage\": {\n    \"estimated_minutes_per_pr\": 45,\n    \"prs_per_month\": 11,\n    \"push_to_main\": 15,\n    \"scheduled_workflows\": 8,\n    \"total_estimated_monthly\": 1180,\n    \"breakdown\": {\n      \"main_ci_workflow\": 32,\n      \"security_scans\": 8,\n      \"dependency_checks\": 5,\n      \"e2e_tests_main_only\": 18,\n      \"scheduled_security\": 12\n    }\n  },\n  \"current_inefficiencies\": [\n    \"Redundant dependency installations across matrix jobs\",\n    \"Missing path-based filtering for backend/frontend\",\n    \"E2E tests running unnecessarily often\",\n    \"Security scans running on every main push\",\n    \"Separate dependency check workflows\",\n    \"No build artifact reuse between jobs\"\n  ],\n  \"analysis_date\": \"2025-09-02\"\n}",
      "namespace": "devops",
      "timestamp": 1756846601808
    },
    {
      "key": "ci_optimization_plan",
      "value": "{\n  \"optimizations\": {\n    \"quick_wins_5_10_min\": [\n      {\n        \"name\": \"Smart Path Filtering\",\n        \"description\": \"Add path filters to prevent unnecessary backend/frontend job runs\",\n        \"estimated_savings_per_run\": \"15 minutes\",\n        \"monthly_savings\": \"390 minutes\",\n        \"implementation_effort\": \"5 minutes\"\n      },\n      {\n        \"name\": \"Consolidate Security Workflows\",\n        \"description\": \"Merge security-scan.yml and dependency-check.yml into main CI\",\n        \"estimated_savings_per_run\": \"3 minutes\",\n        \"monthly_savings\": \"78 minutes\",\n        \"implementation_effort\": \"10 minutes\"\n      }\n    ],\n    \"medium_efforts_30_60_min\": [\n      {\n        \"name\": \"Dependency Caching Optimization\",\n        \"description\": \"Share cached dependencies between matrix jobs using artifacts\",\n        \"estimated_savings_per_run\": \"8 minutes\",\n        \"monthly_savings\": \"208 minutes\",\n        \"implementation_effort\": \"45 minutes\"\n      },\n      {\n        \"name\": \"Job Consolidation\",\n        \"description\": \"Merge backend matrix jobs into single job with conditional steps\",\n        \"estimated_savings_per_run\": \"6 minutes\",\n        \"monthly_savings\": \"156 minutes\",\n        \"implementation_effort\": \"30 minutes\"\n      }\n    ],\n    \"long_term_improvements\": [\n      {\n        \"name\": \"Intelligent E2E Triggering\",\n        \"description\": \"Run E2E tests only when frontend changes significantly\",\n        \"estimated_savings_per_run\": \"12 minutes\",\n        \"monthly_savings\": \"180 minutes\",\n        \"implementation_effort\": \"2 hours\"\n      }\n    ]\n  },\n  \"projected_monthly_usage\": {\n    \"current\": 1180,\n    \"after_quick_wins\": 712,\n    \"after_medium_efforts\": 348,\n    \"after_long_term\": 168,\n    \"total_reduction_percentage\": \"85.8%\"\n  },\n  \"priority_order\": [\n    \"Smart Path Filtering\",\n    \"Consolidate Security Workflows\",\n    \"Dependency Caching Optimization\",\n    \"Job Consolidation\",\n    \"Intelligent E2E Triggering\"\n  ]\n}",
      "namespace": "devops",
      "timestamp": 1756846620686
    }
  ]
}